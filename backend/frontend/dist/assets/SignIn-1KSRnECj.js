import{a as R,b as I,u as G,f as T,r as o,j as e,L as F,h as O}from"./index-MjoGkJKq.js";import{u as q}from"./index.esm-JOZrsEaS.js";import{u as A}from"./useMutation-zklkFzjD.js";import{j as z,k as p,h as B,i as M}from"./index.esm-vGOlp4xa.js";import{G as Q,a as U}from"./index.esm-a3E7U2oS.js";import"./iconBase-zMJGrWL1.js";const H="684135333612-hirbgigjhpfha6vlre8sjn3tin4gkhna.apps.googleusercontent.com",V="http://localhost:7000",X=()=>{const{showToast:a}=R(),l=I(),c=G(),f=T(),[d,b]=o.useState(!1),[j,w]=o.useState(!1),[y,N]=o.useState(!1),[n,v]=o.useState(!1),[m,u]=o.useState(!1),{register:x,formState:{errors:i},watch:r,handleSubmit:S}=q(),k=A(O,{onSuccess:async()=>{var s,t;a({message:"Sign in Successful!",type:"SUCCESS"}),await c.invalidateQueries("validateToken"),l(((t=(s=f.state)==null?void 0:s.from)==null?void 0:t.pathname)||"/")},onError:s=>{a({message:s.message,type:"ERROR"})},onMutate:()=>{u(!0)},onSettled:()=>{u(!1)}}),C=()=>m?"Loading...":r("email")?r("password")?"Login":"Password is required":"Login",h=()=>m||!r("email")||!r("password"),E=S(s=>{console.log(s),k.mutate(s)}),g=(s,t)=>{navigator.clipboard.writeText(s).then(()=>{t(!0),setTimeout(()=>t(!1),2e3)})},L=async s=>{try{const t=await fetch(`${V}/api/auth/login`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:s.credential})}),P=await t.json();if(!t.ok)throw new Error(P.message||"Google login failed");a({message:"Google login successful",type:"SUCCESS"}),await c.invalidateQueries("validateToken"),l("/")}catch(t){a({message:t.message,type:"ERROR"})}};return e.jsx(Q,{clientId:H,children:e.jsx("div",{className:"min-h-[calc(100vh-25rem)] flex items-center justify-center py-1 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow  dark:bg-gray-800 transition-colors duration-300 text-gray-900 dark:text-white border",children:[e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Sign In"}),e.jsx("div",{className:"text-blue-500 cursor-pointer ml-2 p-1 rounded-full border border-blue-500",onClick:()=>b(!d),children:e.jsx(z,{size:20})}),d&&e.jsxs("div",{className:"ml-2 p-2 bg-white border rounded shadow  dark:bg-gray-800 transition-colors duration-300 text-gray-900 dark:text-white",children:[e.jsx("p",{children:"New here? No worries! Skip the hassle of creating an account and take a quick tour with our test credentials."}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("p",{children:["Email: ",e.jsx("span",{className:"text-blue-700",children:"Hirehim@gmail.com"})]}),e.jsx("span",{className:"ml-3 text-blue-500",children:j?"Copied!":e.jsx(p,{onClick:()=>g("Hirehim@gmail.com",w)})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("p",{children:["Password: ",e.jsx("span",{className:"text-blue-700",children:"Stronghire1@"})]}),e.jsx("span",{className:"ml-9 text-blue-500",children:y?"Copied!":e.jsx(p,{onClick:()=>g("Stronghire1@",N)})})]})]})]}),e.jsxs("form",{className:"mt-8 space-y-6  dark:bg-gray-800 transition-colors duration-300 text-gray-900 dark:text-white bor",onSubmit:E,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold",children:["Email",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",...x("email",{required:""}),className:"mt-1 w-full border rounded-md px-3 py-2 placeholder-gray-500 text-gray-900 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-900"}),i.email&&e.jsx("p",{className:"mt-1 text-red-500 text-sm",children:i.email.message})]}),e.jsxs("label",{className:"block text-sm font-bold",children:["Password",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",...x("password",{required:"",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:"mt-1 w-full border rounded-md px-3 py-2.5 placeholder-gray-500 text-gray-900 focus:z-10 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-900"}),r("password")&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>v(!n),children:n?e.jsx(B,{className:"h-5 w-5 text-gray-700"}):e.jsx(M,{className:"h-5 w-5 text-gray-700"})})]}),i.password&&e.jsx("p",{className:"mt-1 text-red-500 text-sm",children:i.password.message})]}),e.jsxs("div",{className:"flex flex-col items-center justify-between",children:[e.jsx("button",{type:"submit",disabled:h(),className:`mt-2 bg-blue-600 text-white font-bold w-full p-2.5 rounded-md transition-colors duration-200 
        ${h()?"opacity-60":"hover:bg-blue-500"}`,children:C()}),e.jsxs("div",{className:"text-sm mt-4",children:["Not Registered?"," ",e.jsx(F,{to:"/register",className:"underline text-blue-500 hover:text-black transition-colors duration-200",children:"Create an account here"})]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[e.jsx(U,{onSuccess:L,onError:()=>{a({message:"Google login failed",type:"ERROR"})}}),e.jsx("a",{href:"#",className:"w-full flex items-center justify-center px-8 py-3 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-100",children:e.jsx("img",{className:"h-5 w-5",src:"https://www.svgrepo.com/show/512120/facebook-176.svg",alt:"Facebook"})})]})]})})})};export{X as default};
