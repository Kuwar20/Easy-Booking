import{j as e,r as p}from"./index-MjoGkJKq.js";import{a as x,u,F as g}from"./index.esm-JOZrsEaS.js";import{h,a as f}from"./hotel-options-config-qeZf1OSv.js";const b=()=>{const{register:a,formState:{errors:s}}=x();return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Add Hotel"}),e.jsxs("label",{className:"text-gray-700 text-sm font-bold flex-1",children:["Name",e.jsx("input",{type:"text",className:"border rounded w-full py-1 px-2 font-normal",...a("name",{required:"This field is required"})}),s.name&&e.jsx("span",{className:"text-red-500",children:s.name.message})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"text-gray-700 text-sm font-bold flex-1",children:["City",e.jsx("input",{type:"text",className:"border rounded w-full py-1 px-2 font-normal",...a("city",{required:"This field is required"})}),s.city&&e.jsx("span",{className:"text-red-500",children:s.city.message})]}),e.jsxs("label",{className:"text-gray-700 text-sm font-bold flex-1",children:["Country",e.jsx("input",{type:"text",className:"border rounded w-full py-1 px-2 font-normal",...a("country",{required:"This field is required"})}),s.country&&e.jsx("span",{className:"text-red-500",children:s.country.message})]})]}),e.jsxs("label",{className:"text-gray-700 text-sm font-bold flex-1",children:["Description",e.jsx("textarea",{rows:10,className:"border rounded w-full py-1 px-2 font-normal",style:{lineHeight:"1.2"},...a("description",{required:"This field is required"})}),s.description&&e.jsx("span",{className:"text-red-500",children:s.description.message})]}),e.jsxs("label",{className:"text-gray-700 text-sm font-bold max-w-[50%]",children:["Price Per Night",e.jsx("input",{type:"number",min:1,className:"border rounded w-full py-1 px-2 font-normal",...a("pricePerNight",{required:"This field is required"})}),s.pricePerNight&&e.jsx("span",{className:"text-red-500",children:s.pricePerNight.message})]}),e.jsxs("label",{className:"text-gray-700 text-sm font-bold max-w-[50%]",children:["Star Rating",e.jsxs("select",{...a("starRating",{required:"This field is required"}),className:"border rounded w-full p-2 text-gray-700 font-normal",children:[e.jsx("option",{value:"",className:"text-sm font-bold",children:"Select as Rating"}),[1,2,3,4,5].map(r=>e.jsx("option",{value:r,children:r},r))]}),s.starRating&&e.jsx("span",{className:"text-red-500",children:s.starRating.message})]})]})},j=()=>{const{register:a,watch:s,formState:{errors:r}}=x(),n=s("type");return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Type"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:h.map(l=>e.jsxs("label",{className:n===l?"cursor-pointer bg-blue-300 text-sm rounded-full  px-4 py-2 font-semibold":"cursor-pointer bg-gray-300 text-sm rounded-full  px-4 py-2 font-semibold",children:[e.jsx("input",{type:"radio",value:l,...a("type",{required:"this field is required"}),className:"hidden"}),e.jsx("span",{children:l})]},l))}),r.type&&e.jsx("span",{className:"text-red-500 text-sm font-bold",children:r.type.message})]})},y=()=>{const{register:a,formState:{errors:s}}=x();return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Facilities"}),e.jsx("div",{className:"grid grid-cols-5 gap-3",children:f.map((r,n)=>e.jsxs("label",{className:"text-sm flex gap-1 text-gray-700",children:[e.jsx("input",{type:"checkbox",value:r,...a("facilities",{validate:l=>l&&l.length>0?!0:"At least one facility is required"})}),r]},n))}),s.facilities&&e.jsx("span",{className:"text-red-500 text-sm font-bold",children:s.facilities.message})]})},N=()=>{var r,n,l,c;const{register:a,formState:{errors:s}}=x();return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Guests"}),e.jsxs("div",{className:"grid grid-cols-2 p-6 gap-5 bg-gray-300",children:[e.jsxs("label",{className:"text-gray-700 text-sm font-semibold",children:["Adults",e.jsx("input",{className:"border rounded w-full py-2 px-3 font-normal",type:"number",min:1,...a("adultCount",{required:"This field is required"})}),((r=s.adultCount)==null?void 0:r.message)&&e.jsx("span",{className:"text-red-500 text-sm fold-bold",children:(n=s.adultCount)==null?void 0:n.message})]}),e.jsxs("label",{className:"text-gray-700 text-sm font-semibold",children:["Children",e.jsx("input",{className:"border rounded w-full py-2 px-3 font-normal",type:"number",min:0,...a("childCount",{required:"This field is required"})}),((l=s.childCount)==null?void 0:l.message)&&e.jsx("span",{className:"text-red-500 text-sm fold-bold",children:(c=s.childCount)==null?void 0:c.message})]})]})]})},v=()=>{const{register:a,formState:{errors:s},watch:r,setValue:n}=x(),l=r("imageUrls"),c=(d,t)=>{d.preventDefault(),n("imageUrls",l.filter(i=>i!==t))};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Images"}),e.jsxs("div",{className:"border rounded p-4 flex flex-col gap-4",children:[l&&e.jsx("div",{className:"grid grid-cols-6 gap-4",children:l.map(d=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:d,className:"min-h-full object-cover"}),e.jsx("button",{onClick:t=>c(t,d),className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 text-white",children:"Delete"})]}))}),e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"w-full text-gray-700 font-normal",...a("imageFiles",{validate:d=>{const t=d.length+((l==null?void 0:l.length)||0);return t===0?"At least one image should be added":t>6?"Total number of images cannot be more than 6":!0}})})]}),s.imageFiles&&e.jsx("span",{className:"text-red-500 text-sm font-bold",children:s.imageFiles.message})]})},C=({onSave:a,isLoading:s,hotel:r})=>{const n=u(),{handleSubmit:l,reset:c}=n;p.useEffect(()=>{c(r)},[r,c]);const d=l(t=>{const i=new FormData;r&&i.append("hotelId",r._id),i.append("name",t.name),i.append("city",t.city),i.append("country",t.country),i.append("description",t.description),i.append("type",t.type),i.append("pricePerNight",t.pricePerNight.toString()),i.append("starRating",t.starRating.toString()),i.append("adultCount",t.adultCount.toString()),i.append("childCount",t.childCount.toString()),t.facilities.forEach((o,m)=>{i.append(`facilities[${m}]`,o)}),t.imageUrls&&t.imageUrls.forEach((o,m)=>{i.append(`imageUrls[${m}]`,o)}),Array.from(t.imageFiles).forEach(o=>{i.append("imageFiles",o)}),a(i)});return e.jsx(g,{...n,children:e.jsxs("form",{className:"flex flex-col gap-6 p-4 sm:p-6 md:p-8 bg-white shadow-lg rounded-lg  dark:bg-gray-800 transition-colors duration-300 text-gray-900 dark:text-black border",onSubmit:d,children:[e.jsx(b,{}),e.jsx(j,{}),e.jsx(y,{}),e.jsx(N,{}),e.jsx(v,{}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{disabled:s,type:"submit",className:"bg-blue-600 text-white px-4 py-2 font-bold hover:bg-blue-500 rounded-md text-lg disabled:bg-gray-500",children:s?"Saving...":"Save"})})]})})};export{C as M};
